{{ 'kw-testimonial.css' | asset_url | stylesheet_tag }}

<section
  class="kw-testimonial-section"
  style="
    {% if section.settings.bg_color != blank %}background-color: {{ section.settings.bg_color }};{% endif %}
    padding-top: {{ section.settings.padding_top }}px;
    padding-bottom: {{ section.settings.padding_bottom }}px;
  "
  {{ section.shopify_attributes }}
>
  <div class="kw-testimonial-section__container">
    {% if section.settings.heading != blank %}
      <h2 class="kw-testimonial-section__heading">
        {{ section.settings.heading }}
        {% if section.settings.heading_highlight != blank %}
          <span class="kw-testimonial-section__highlight">{{ section.settings.heading_highlight }}</span>
        {% endif %}
      </h2>
    {% endif %}

    {% for block in section.blocks %}
      <div {{ block.shopify_attributes }}>
        {% render 'kw-testimonial-card',
          photo: block.settings.photo,
          quote: block.settings.quote,
          name: block.settings.name,
          title: block.settings.title
        %}
      </div>
    {% endfor %}
  </div>
</section>

{% schema %}
{
  "name": "KW Testimonial",
  "tag": "section",
  "class": "kw-testimonial-wrapper",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "See Why Top Dermatologist"
    },
    {
      "type": "text",
      "id": "heading_highlight",
      "label": "Highlighted text (pink)",
      "default": "Recommend KeeWee"
    },
    {
      "type": "header",
      "content": "Background"
    },
    {
      "type": "color",
      "id": "bg_color",
      "label": "Background color",
      "default": "#F5F0EB"
    },
    {
      "type": "header",
      "content": "Spacing"
    },
    {
      "type": "range",
      "id": "padding_top",
      "label": "Top padding",
      "min": 0,
      "max": 100,
      "step": 4,
      "default": 60,
      "unit": "px"
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "label": "Bottom padding",
      "min": 0,
      "max": 100,
      "step": 4,
      "default": 60,
      "unit": "px"
    }
  ],
  "blocks": [
    {
      "type": "testimonial",
      "name": "Testimonial",
      "settings": [
        {
          "type": "image_picker",
          "id": "photo",
          "label": "Photo (doctor + product combined)"
        },
        {
          "type": "textarea",
          "id": "quote",
          "label": "Quote",
          "default": "Many of my patients come to me after struggling with hair thinning and are looking for safe, effective alternatives. KeeWee Shampoo is an excellent choice for improving hair density and health. Its scientifically backed ingredients are gentle yet potent, addressing key concerns like shedding and scalp health."
        },
        {
          "type": "text",
          "id": "name",
          "label": "Name",
          "default": "Dr. Ashley Magovern"
        },
        {
          "type": "text",
          "id": "title",
          "label": "Title / Location",
          "default": "Dermatologist in Manhattan Beach, California"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "KW Testimonial",
      "blocks": [
        {
          "type": "testimonial",
          "settings": {
            "quote": "Many of my patients come to me after struggling with hair thinning and are looking for safe, effective alternatives. KeeWee Shampoo is an excellent choice for improving hair density and health. Its scientifically backed ingredients are gentle yet potent, addressing key concerns like shedding and scalp health.",
            "name": "Dr. Ashley Magovern",
            "title": "Dermatologist in Manhattan Beach, California"
          }
        }
      ]
    }
  ]
}
{% endschema %}